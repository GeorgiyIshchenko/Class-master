{% extends "base.html" %}

{% block content %}
{% include 'class_nav.html' %}
<div class="jumbotron jumbotron-fluid" style="background-color: #CAC6F5;">
  <div class="container">
    <h1 class="display-5">{{class.name}}</h1>
    <p class="lead">{{class.teacher.first_name}} {{class.teacher.last_name}}</p>
  </div>
</div>
<div class="container mt-5">
  {% for el in data.tasks %}
                <div class="col">
                    <div class="card mt-2 shadow" >
                      <div class="row g-0" style="height: 260px;">
                        <div class="col-md-3" style="background: -webkit-linear-gradient(45deg, rgb(175, 213, 236), rgb(202, 198, 245), rgb(66, 123, 166));
                                                    background: -moz-linear-gradient(45deg, rgb(175, 213, 236), rgb(202, 198, 245), rgb(66, 123, 166));
                                                    background: linear-gradient(45deg, rgb(175, 213, 236), rgb(202, 198, 245), rgb(66, 123, 166));">
                        </div>
                        <div class="col-md-8">
                          <div class="card-body">
                            <h5 class="card-title">{{el.task.title}}
                                <a href="{{el.task.get_absolute_url}}" class="btn btn-lg btn-light float-right border-bottom" style="background-color: #95D2F1;">Подробнее</a>
                            </h5>
                            <p class="card-text">Дата сдачи: {{el.task.date | date:'d.m.y'}}</p>
                            <p class="card-text"><small class="text-muted">{{el.task.published_date | date:'d.m.y'}}</small></p>
                              {% if el.task.has_files %}
                            <h5 class="mb-3 text-muted">Приложенные файлы:</h5>
                            {% endif %}
                            {% for f in el.files%}
                            <div class="d-flex justify-content-center shadow p-2 mt-3 bg-white rounded">
                                <p><a href="{{f.file.url}}">{{f.get_name}}</a></p>
                            </div>
                            {% endfor %}
                          </div>
                        </div>
                      </div>
                </div>
                </div>
           {% endfor %}
</div>

{% endblock %}